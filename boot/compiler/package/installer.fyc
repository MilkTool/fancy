!RBIX
0
x
M
1
n
n
x
10
__script__
i
49
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
99
7
3
1
45
4
5
49
6
3
13
99
12
7
7
12
7
8
12
65
12
49
9
4
15
49
7
0
15
2
11
I
6
I
0
I
0
I
0
n
p
10
s
4
yaml
x
7
require
s
8
open-uri
x
7
Package
x
5
Fancy
n
x
16
open_class_under
x
14
__class_init__
M
1
n
n
x
7
Package
i
29
5
66
99
7
0
1
65
49
1
3
13
99
12
7
2
12
7
3
12
65
12
49
4
4
15
49
2
0
11
I
6
I
0
I
0
I
0
n
p
5
x
9
Installer
x
10
open_class
x
14
__class_init__
M
1
n
n
x
9
Installer
i
346
5
66
7
0
64
15
65
7
1
45
2
3
7
4
64
47
49
5
1
7
6
64
47
49
7
1
49
8
2
15
65
7
9
45
1
10
7
11
64
47
49
7
1
49
8
2
15
65
7
12
45
9
13
7
14
64
47
49
7
1
49
8
2
15
5
49
15
0
15
99
7
16
7
17
65
67
49
18
0
49
19
4
15
5
49
15
0
15
5
7
20
64
47
49
21
1
99
7
22
7
23
65
67
49
18
0
49
19
4
15
5
49
15
0
15
5
7
24
64
47
49
21
1
99
7
25
7
26
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
27
7
28
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
29
7
30
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
31
7
32
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
33
7
34
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
35
7
36
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
37
7
38
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
39
7
40
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
41
7
42
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
43
7
44
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
45
7
46
65
67
49
18
0
49
19
4
15
5
49
15
0
15
99
7
47
7
48
65
67
49
18
0
49
19
4
11
I
7
I
0
I
0
I
0
n
p
49
s
243
""

    @Fancy::Package@ installer.

    Downloads packages from Github (usually the latest tagged version,
    if no version is specified, or the latest HEAD revision in the
    master branch) and install it to the @FANCY_PACKAGE_DIR.

    ""
x
18
DEFAULT_FANCY_ROOT
x
3
ENV
n
s
4
HOME
x
3
:[]
s
7
/.fancy
x
3
:++
x
9
const_set
x
21
DEFAULT_PACKAGES_PATH
n
s
9
/packages
x
25
DEFAULT_PACKAGES_LIB_PATH
n
s
4
/lib
x
6
public
x
11
initialize:
M
1
n
n
x
11
initialize:
i
30
20
0
38
0
15
7
1
64
15
5
39
0
7
2
64
45
3
4
7
5
64
47
49
6
1
47
49
7
3
11
I
6
I
1
I
1
I
1
n
p
8
x
13
@package_name
s
51
Forward to message initialize:version:install_path:
s
6
latest
x
3
ENV
n
s
17
FANCY_PACKAGE_DIR
x
3
:[]
x
32
initialize:version:install_path:
p
9
I
0
I
29
I
0
I
14
I
0
I
29
I
5
I
14
I
1e
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
13
@package_name
x
17
method_visibility
x
15
add_defn_method
s
8
version:
x
32
define_constructor_class_method:
x
19
initialize:version:
M
1
n
n
x
19
initialize:version:
i
34
20
0
38
0
15
20
1
38
1
15
7
2
64
15
5
39
0
39
1
45
3
4
7
5
64
47
49
6
1
47
49
7
3
11
I
7
I
2
I
2
I
2
n
p
8
x
13
@package_name
x
8
@version
s
51
Forward to message initialize:version:install_path:
x
3
ENV
n
s
17
FANCY_PACKAGE_DIR
x
3
:[]
x
32
initialize:version:install_path:
p
9
I
0
I
29
I
0
I
14
I
0
I
29
I
a
I
14
I
22
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
2
x
13
@package_name
x
8
@version
s
21
version:install_path:
x
32
initialize:version:install_path:
M
1
n
n
x
32
initialize:version:install_path:
i
70
20
0
38
0
15
20
1
38
1
15
20
2
38
2
15
7
3
64
15
39
0
7
4
64
47
49
5
1
19
3
15
20
3
47
49
6
0
38
7
15
20
3
47
49
8
0
38
9
15
39
2
56
10
47
49
11
1
15
39
2
7
12
64
47
49
13
1
38
14
11
I
6
I
4
I
3
I
3
n
p
15
x
13
@package_name
x
8
@version
x
13
@install_path
s
235
""
      Creates a new @Package Installer@ for a given package name, an
      optional version (default is 'latest') and an optional
      installation path (default is the standard installation path for
      Fancy packages).
      ""
s
1
/
x
6
split:
x
6
:first
x
5
@user
x
7
:second
x
11
@repository
M
1
p
2
x
9
for_block
t
n
x
32
initialize:version:install_path:
i
57
45
0
1
38
2
15
45
3
4
45
5
6
47
49
7
1
15
45
3
8
45
0
9
47
49
7
1
15
45
3
10
45
11
12
47
49
7
1
15
45
3
13
45
0
14
7
15
64
47
49
16
1
47
49
7
1
11
I
4
I
0
I
0
I
0
n
p
17
x
21
DEFAULT_PACKAGES_PATH
n
x
13
@install_path
x
9
Directory
n
x
18
DEFAULT_FANCY_ROOT
n
x
8
create!:
n
n
n
x
25
DEFAULT_PACKAGES_LIB_PATH
n
n
n
s
10
/downloads
x
3
:++
p
17
I
0
I
26
I
0
I
22
I
0
I
21
I
6
I
22
I
c
I
23
I
17
I
24
I
22
I
25
I
34
I
26
I
39
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
7
if_nil:
s
10
/downloads
x
3
:++
x
14
@download_path
p
23
I
0
I
29
I
0
I
1b
I
0
I
29
I
f
I
1a
I
13
I
1c
I
18
I
1d
I
28
I
1e
I
31
I
20
I
33
I
26
I
35
I
27
I
3a
I
28
I
46
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
4
x
13
@package_name
x
8
@version
x
13
@install_path
x
8
splitted
x
4
:run
M
1
n
n
x
4
:run
i
48
7
0
64
15
1
19
0
15
39
1
7
2
64
47
49
3
1
56
4
47
49
5
1
15
5
20
0
47
49
6
1
19
1
15
5
20
1
47
49
7
1
15
5
47
49
8
0
11
I
4
I
2
I
0
I
0
n
p
9
s
91
""
      Runs the installer & installs the package into
      @$FANCY_PACKAGE_DIR.
      ""
x
8
@version
s
6
latest
x
3
:==
M
1
p
2
x
9
for_block
t
n
x
4
:run
i
25
5
47
49
0
0
56
1
56
2
47
49
3
2
15
5
39
4
47
49
5
1
22
1
0
11
I
4
I
0
I
0
I
0
n
p
6
x
11
:latest_tag
M
1
p
2
x
9
for_block
t
n
x
4
:run
i
9
57
19
0
15
20
0
38
0
11
I
3
I
1
I
1
I
1
n
p
1
x
8
@version
p
5
I
0
I
35
I
4
I
34
I
9
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
3
tag
M
1
p
2
x
9
for_block
t
n
x
4
:run
i
6
7
0
64
38
1
11
I
2
I
0
I
0
I
0
n
p
2
s
6
master
x
8
@version
p
5
I
0
I
37
I
0
I
36
I
6
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
11
if_do:else:
x
8
@version
x
13
download_tgz:
p
15
I
0
I
39
I
0
I
38
I
0
I
33
I
5
I
35
I
7
I
37
I
9
I
38
I
11
I
39
I
19
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
8
if_true:
x
12
unpack_file:
x
11
rename_dir:
x
15
:load_fancypack
p
27
I
0
I
3f
I
0
I
30
I
0
I
2f
I
4
I
31
I
8
I
32
I
11
I
39
I
13
I
3a
I
18
I
3d
I
19
I
3c
I
1b
I
3d
I
22
I
3e
I
23
I
3d
I
25
I
3e
I
30
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
2
x
8
filename
x
10
unpack_dir
x
11
:latest_tag
M
1
n
n
x
11
:latest_tag
i
30
7
0
64
15
5
47
49
1
0
19
0
15
20
0
47
49
2
0
78
47
49
3
1
56
4
47
49
5
1
11
I
3
I
1
I
0
I
0
n
p
6
s
47
Returns the latest tag (sorted alphabetically).
x
5
:tags
x
5
:size
x
2
:>
M
1
p
2
x
9
for_block
t
n
x
11
:latest_tag
i
16
21
1
0
47
49
0
0
47
49
1
0
47
49
2
0
11
I
2
I
0
I
0
I
0
n
p
3
x
5
:keys
x
5
:sort
x
5
:last
p
5
I
0
I
47
I
0
I
46
I
10
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
8
if_true:
p
15
I
0
I
48
I
0
I
43
I
0
I
42
I
4
I
44
I
c
I
45
I
17
I
47
I
19
I
48
I
1e
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
4
tags
x
5
:tags
M
1
n
n
x
5
:tags
i
53
7
0
64
15
7
1
64
39
2
47
49
3
1
7
4
64
47
49
3
1
19
0
15
45
5
6
5
20
0
47
49
7
1
47
49
8
1
47
49
9
0
47
49
10
0
7
11
64
47
49
12
1
11
I
4
I
1
I
0
I
0
n
p
13
s
52
Returns a list of tags the repository has on Github.
s
41
http://github.com/api/v2/yaml/repos/show/
x
13
@package_name
x
3
:++
s
6
/tags/
x
4
YAML
n
x
4
open
x
11
load_stream
x
9
documents
x
6
:first
s
4
tags
x
3
at:
p
13
I
0
I
4f
I
0
I
4c
I
0
I
4b
I
4
I
4d
I
17
I
4e
I
30
I
4f
I
35
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
3
url
x
13
download_url:
M
1
n
n
x
13
download_url:
i
27
7
0
64
15
7
1
64
39
2
47
49
3
1
7
4
64
47
49
3
1
20
0
47
49
3
1
11
I
3
I
1
I
1
I
1
n
p
5
s
100
""
      Returns the download url for a given version of the package
      to be installed.
      ""
s
19
https://github.com/
x
13
@package_name
x
3
:++
s
9
/tarball/
p
9
I
0
I
58
I
0
I
56
I
0
I
55
I
4
I
57
I
1b
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
7
version
x
13
download_tgz:
M
1
n
n
x
13
download_tgz:
i
101
7
0
64
15
5
20
0
47
49
1
1
19
1
15
7
2
64
39
3
7
4
64
20
0
7
5
64
20
1
35
6
47
49
6
0
47
49
7
0
15
39
8
7
9
64
39
10
7
11
64
20
0
7
12
64
35
6
47
49
6
0
19
2
15
7
13
64
20
1
7
14
64
39
15
7
16
64
20
2
35
6
47
49
6
0
19
3
15
45
17
18
20
3
47
49
19
1
15
20
2
11
I
a
I
4
I
1
I
1
n
p
20
s
295
""
      Downloads the .tar.gz file from Github with the given version
      (tag or branch name) and saves it to the specified @install_path.


      The Default install_path is ~/.fancy/packages/.
      If an environment variable @FANCY_PACKAGE_DIR is defined, it
      will get used.
      ""
x
13
download_url:
s
12
Downloading 
x
13
@package_name
s
9
 version 
s
7
 from: 
x
5
:join
x
8
:println
x
5
@user
s
1
_
x
11
@repository
s
1
-
s
7
.tar.gz
s
36
wget --quiet --no-check-certificate 
s
4
 -O 
x
14
@download_path
s
1
/
x
6
System
n
x
3
do:
p
23
I
0
I
6f
I
0
I
64
I
0
I
63
I
4
I
66
I
5
I
65
I
7
I
66
I
28
I
68
I
40
I
6b
I
58
I
6c
I
5d
I
6d
I
62
I
6e
I
65
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
4
x
7
version
x
12
download_url
x
8
filename
x
3
cmd
x
12
unpack_file:
M
1
n
n
x
12
unpack_file:
i
61
7
0
64
20
0
47
49
1
1
47
49
2
0
15
45
3
4
7
5
64
39
6
7
7
64
20
0
7
8
64
39
9
7
7
64
35
7
47
49
10
0
47
49
11
1
19
1
15
20
1
47
49
12
0
47
49
13
0
19
2
11
I
b
I
3
I
1
I
1
n
p
14
s
10
Unpacking 
x
3
:++
x
8
:println
x
6
System
n
s
8
tar xvf 
x
14
@download_path
s
1
/
s
4
 -C 
x
13
@install_path
x
5
:join
x
5
pipe:
x
9
:readline
x
6
:chomp
p
11
I
0
I
75
I
0
I
73
I
0
I
72
I
e
I
73
I
29
I
74
I
3d
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
3
x
8
filename
x
6
output
x
7
dirname
x
15
:installed_path
M
1
n
n
x
15
:installed_path
i
42
39
0
7
1
64
47
49
2
1
39
3
47
49
2
1
7
4
64
47
49
2
1
39
5
47
49
2
1
7
6
64
47
49
2
1
39
7
47
49
2
1
11
I
2
I
0
I
0
I
0
n
p
8
x
13
@install_path
s
1
/
x
2
:+
x
5
@user
s
1
_
x
11
@repository
s
1
-
x
8
@version
p
5
I
0
I
79
I
0
I
78
I
2a
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
9
:lib_path
M
1
n
n
x
9
:lib_path
i
10
39
0
7
1
64
47
49
2
1
11
I
2
I
0
I
0
I
0
n
p
3
x
13
@install_path
s
4
/lib
x
2
:+
p
5
I
0
I
7d
I
0
I
7c
I
a
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
11
rename_dir:
M
1
n
n
x
11
rename_dir:
i
36
7
0
64
15
45
1
2
7
3
64
39
4
7
5
64
20
0
7
6
64
5
47
49
7
0
35
6
47
49
8
0
47
49
9
1
11
I
8
I
1
I
1
I
1
n
p
10
s
151
""
      Renames a given directory to a common way within the install path.
      => It will rename the given dirname to $user/$repo-$version.
      ""
x
6
System
n
s
3
mv 
x
13
@install_path
s
1
/
s
1
 
x
15
:installed_path
x
5
:join
x
3
do:
p
11
I
0
I
86
I
0
I
84
I
0
I
83
I
4
I
85
I
1f
I
86
I
24
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
7
dirname
x
15
:load_fancypack
M
1
n
n
x
15
:load_fancypack
i
52
7
0
64
15
45
1
2
5
47
49
3
0
7
4
64
47
49
5
1
47
49
6
1
47
49
7
0
56
8
47
49
9
1
15
45
10
11
39
12
47
49
13
1
56
14
56
15
47
49
16
2
11
I
3
I
0
I
0
I
0
n
p
17
s
140
""
      Loads the @.fancypack file within the downloaded package directory.
      If no @.fancypack file is found, raise an error.
      ""
x
3
Dir
n
x
15
:installed_path
s
12
/*.fancypack
x
3
:++
x
4
glob
x
6
:first
M
1
p
2
x
9
for_block
t
n
x
15
:load_fancypack
i
20
57
19
0
15
5
20
0
47
45
0
1
43
2
20
0
47
49
3
1
11
I
6
I
1
I
1
I
1
n
p
4
x
5
Fancy
n
x
10
CodeLoader
x
8
require:
p
7
I
0
I
90
I
4
I
1
I
5
I
8f
I
14
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
9
fpackfile
x
6
if_do:
x
13
Specification
n
x
11
@repository
x
3
:[]
M
1
p
2
x
9
for_block
t
n
x
15
:load_fancypack
i
12
57
19
0
15
5
20
0
47
49
0
1
11
I
4
I
1
I
1
I
1
n
p
1
x
13
fulfill_spec:
p
7
I
0
I
94
I
5
I
93
I
7
I
94
I
c
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
4
spec
M
1
p
2
x
9
for_block
t
n
x
15
:load_fancypack
i
14
7
0
64
39
1
47
49
2
1
47
49
3
0
11
I
3
I
0
I
0
I
0
n
p
4
s
75
Something wen't wrong. Did not find a fancypack specification for package: 
x
11
@repository
x
3
:++
x
7
:raise!
p
5
I
0
I
96
I
0
I
95
I
e
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
11
if_do:else:
p
21
I
0
I
97
I
0
I
8d
I
0
I
8c
I
4
I
8e
I
1b
I
90
I
1d
I
91
I
22
I
92
I
2b
I
94
I
2d
I
96
I
2f
I
97
I
34
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
13
fulfill_spec:
M
1
n
n
x
13
fulfill_spec:
i
43
20
0
47
49
0
0
47
49
1
0
56
2
47
49
3
1
15
20
0
47
49
4
0
56
5
47
49
6
1
15
20
0
47
49
7
0
56
8
47
49
6
1
11
I
3
I
1
I
1
I
1
n
p
9
x
14
:include_files
x
7
:empty?
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
37
45
0
1
5
47
49
2
0
7
3
64
47
49
4
1
21
1
0
47
49
5
0
47
49
4
1
7
6
35
1
56
7
47
49
8
3
11
I
5
I
0
I
0
I
0
n
p
9
x
4
File
n
x
9
:lib_path
s
1
/
x
2
:+
x
13
:package_name
x
5
write
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
18
57
19
0
15
21
2
0
47
49
0
0
56
1
47
49
2
1
11
I
4
I
1
I
1
I
1
n
p
3
x
14
:include_files
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
60
57
19
0
15
21
1
0
7
0
64
47
49
1
1
15
21
1
0
5
47
49
2
0
47
49
1
1
15
21
1
0
7
3
64
47
49
1
1
15
21
1
0
20
0
47
49
1
1
15
21
1
0
7
4
64
47
49
5
1
11
I
4
I
1
I
1
I
1
n
p
6
s
11
require: \"
x
6
write:
x
15
:installed_path
s
1
/
s
2
\"
x
8
writeln:
p
15
I
0
I
a2
I
4
I
9d
I
a
I
9e
I
17
I
9f
I
22
I
a0
I
2c
I
a1
I
37
I
a2
I
3c
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
2
if
x
5
each:
p
9
I
0
I
a3
I
4
I
9c
I
b
I
a2
I
d
I
a3
I
12
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
1
f
x
16
open:modes:with:
p
9
I
0
I
a4
I
0
I
9b
I
1e
I
a3
I
20
I
a4
I
25
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
9
if_false:
x
13
:dependencies
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
14
57
19
0
15
45
0
1
20
0
47
49
2
1
11
I
4
I
1
I
1
I
1
n
p
3
x
7
Package
n
x
8
install:
p
7
I
0
I
a8
I
4
I
a7
I
9
I
a8
I
e
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
3
dep
x
5
each:
x
21
:rubygem_dependencies
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
25
57
19
0
15
20
0
47
49
0
0
7
1
47
49
2
1
56
3
56
4
47
49
5
2
11
I
5
I
1
I
1
I
1
n
p
6
x
8
:version
x
6
latest
x
3
:==
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
22
45
0
1
7
2
64
21
1
0
47
49
3
0
47
49
4
1
47
49
5
1
11
I
4
I
0
I
0
I
0
n
p
6
x
6
System
n
s
16
rbx gem install 
x
9
:gem_name
x
3
:++
x
3
do:
p
7
I
0
I
ad
I
0
I
ac
I
11
I
ad
I
16
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
M
1
p
2
x
9
for_block
t
n
x
13
fulfill_spec:
i
40
45
0
1
7
2
64
21
1
0
47
49
3
0
47
49
4
1
7
5
64
47
49
4
1
21
1
0
47
49
6
0
47
49
4
1
47
49
7
1
11
I
4
I
0
I
0
I
0
n
p
8
x
6
System
n
s
19
rbx gem install -v=
x
8
:version
x
3
:++
s
1
 
x
9
:gem_name
x
3
do:
p
7
I
0
I
af
I
0
I
ae
I
23
I
af
I
28
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
13
if_true:else:
p
11
I
0
I
b0
I
4
I
ab
I
10
I
ad
I
12
I
af
I
14
I
b0
I
19
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
3
dep
p
23
I
0
I
b1
I
0
I
a5
I
0
I
9a
I
a
I
a4
I
c
I
a5
I
11
I
a6
I
17
I
a8
I
19
I
a9
I
1e
I
aa
I
24
I
b0
I
26
I
b1
I
2b
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
1
x
4
spec
p
33
I
2
I
e
I
6
I
10
I
1e
I
11
I
2f
I
12
I
40
I
29
I
8e
I
3f
I
a1
I
48
I
b4
I
4f
I
c2
I
58
I
d5
I
6f
I
e8
I
75
I
100
I
79
I
113
I
7d
I
121
I
86
I
139
I
97
I
147
I
b1
I
15a
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
13
attach_method
p
3
I
2
I
b2
I
1d
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
x
13
attach_method
p
19
I
0
I
2
I
1
I
1
I
4
I
2
I
9
I
3
I
a
I
2
I
d
I
3
I
12
I
b3
I
16
I
4
I
1c
I
b3
I
31
x
43
/more/vic/hk/fancy/lib/package/installer.fy
p
0
